{"mappings":"iiBAAA,IACMA,EAAaC,EADnBC,EAAA,UACQC,OACJC,EAAS,EACTC,EAAW,EACXC,EAAY,EACZC,EAAQ,EACRC,EAAM,IACNC,EAAc,EACdC,EAAe,EACbC,EAAO,CACXC,SAAUC,SAASC,cAAc,SACjCC,WAAYF,SAASC,cAAc,uBACnCE,UAAWH,SAASC,cAAc,sBAClCG,YAAaJ,SAASC,cAAc,yBAGhCI,EAAW,SAAAC,G,IAAGC,EAAQD,EAARE,SAAUC,EAAKH,EAALG,MAC5BtB,EAAOuB,QAAQ,uBAAwCC,OAAfJ,EAAS,QAAYI,OAANF,EAAM,M,EAEzDG,EAAU,SAAAN,G,IAAGO,EAAQP,EAARE,SAAUC,EAAKH,EAALG,MAC3BtB,EAAO2B,QAAQ,sBAAuCH,OAAfE,EAAS,QAAYF,OAANF,EAAM,M,EAE9D,SAASM,EAAcC,EAAUP,GAC/B,OAAO,IAAIQ,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GACtCC,YAAW,WACLH,GACFF,EAAQ,CAAEV,SAAUQ,EAAUP,MAAOA,IACrCb,MAEAuB,EAAO,CAAEX,SAAUQ,EAAUP,MAAOA,IACpCZ,I,GAEDH,E,IA2BcI,EAAKC,SAASyB,iBAAiB,UAvBnC,SAAAC,GACfA,EAAMC,iBAEN,IAAQ3B,EAAiDD,EAAjDC,SAAUG,EAAuCJ,EAAvCI,WAAYC,EAA2BL,EAA3BK,UAAWC,EAAgBN,EAAhBM,YACzCV,EAAQiC,OAAOzB,EAAW0B,OAC1BnC,EAAYkC,OAAOxB,EAAUyB,OAC7BrC,EAASoC,OAAOvB,EAAYwB,OAC5B,IAAK,IAAIC,EAAI,EAAGA,GAAKtC,EAAQsC,IAC3Bd,EAAcvB,EAAUE,GAAOoC,KAAKzB,GAAU0B,MAAMnB,GACpDlB,GAASD,EACTD,IACAG,GAAOF,EAET8B,YAAW,WACTpC,EAAO6C,KACL,oBAA0DrB,OAAxBf,EAAY,cAAgCe,OAAbd,EAAa,WACzD,CACEoC,QAAS,K,GAGZtC,GACHI,EAASmC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst { Notify } = Notiflix;\nlet amount = 0;\nlet position = 1;\nlet stepdelay = 0;\nlet firsD = 0;\nlet end = 400;\nlet counterTrue = 0;\nlet counterFalse = 0;\nconst refs = {\n  dataform: document.querySelector('.form'),\n  inputDelay: document.querySelector('input[name=\"delay\"]'),\n  inputStep: document.querySelector('input[name=\"step\"]'),\n  inputAmount: document.querySelector('input[name=\"amount\"]'),\n};\n\nconst onSucses = ({ position, delay }) => {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n};\nconst onError = ({ position, delay }) => {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n};\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({ position: position, delay: delay });\n        counterTrue++;\n      } else {\n        reject({ position: position, delay: delay });\n        counterFalse++;\n      }\n    }, firsD);\n  });\n}\n\nconst onSubmit = event => {\n  event.preventDefault();\n\n  const { dataform, inputDelay, inputStep, inputAmount } = refs;\n  firsD = Number(inputDelay.value);\n  stepdelay = Number(inputStep.value);\n  amount = Number(inputAmount.value);\n  for (let i = 1; i <= amount; i++) {\n    createPromise(position, firsD).then(onSucses).catch(onError);\n    firsD += stepdelay;\n    position++;\n    end += stepdelay;\n  }\n  setTimeout(() => {\n    Notify.info(\n      `Закончили! всего ${counterTrue} успеха и ${counterFalse} ошибок`,\n      {\n        timeout: 20000,\n      }\n    );\n  }, end);\n  dataform.reset();\n};\nrefs.dataform.addEventListener('submit', onSubmit);\n"],"names":["$ce04d3a99e08e73b$var$Notify","$parcel$interopDefault","parcelRequire","Notify","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$position","$ce04d3a99e08e73b$var$stepdelay","$ce04d3a99e08e73b$var$firsD","$ce04d3a99e08e73b$var$end","$ce04d3a99e08e73b$var$counterTrue","$ce04d3a99e08e73b$var$counterFalse","$ce04d3a99e08e73b$var$refs","dataform","document","querySelector","inputDelay","inputStep","inputAmount","$ce04d3a99e08e73b$var$onSucses","param","position1","position","delay","success","concat","$ce04d3a99e08e73b$var$onError","position2","failure","$ce04d3a99e08e73b$var$createPromise","position3","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","addEventListener","event","preventDefault","Number","value","i","then","catch","info","timeout","reset"],"version":3,"file":"03-promises.0e2a125a.js.map"}